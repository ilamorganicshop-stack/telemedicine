{% extends 'accounts/hospital_admin_base.html' %}

{% block title %}Hospital Admin Dashboard{% endblock %}

{% block hospital_admin_content %}
<div class="flex flex-wrap items-center justify-between gap-4">
    <div>
        <h1 class="text-2xl font-semibold text-white sm:text-3xl" style="font-family: 'Sora', sans-serif;">Hospital Admin Dashboard</h1>
        <p class="mt-2 text-sm text-slate-400">Manage {{ hospital.name }} - doctors, patients, and appointments</p>
    </div>
    <span class="rounded-full border border-emerald-500/30 bg-emerald-500/10 px-4 py-1.5 text-xs font-semibold text-emerald-200">
        {% now "M d, Y" %}
    </span>
</div>

<section class="mt-6 grid gap-4 md:grid-cols-2 xl:grid-cols-3 sm:mt-8">
    <div class="rounded-2xl border border-white/10 bg-gradient-to-br from-white/5 to-white/0 p-4 shadow-xl shadow-emerald-500/10 sm:p-5">
        <p class="text-xs uppercase tracking-[0.2em] text-slate-500">Total Doctors</p>
        <p class="mt-4 text-4xl font-semibold text-emerald-300" style="font-family: 'JetBrains Mono', monospace;">{{ doctors_count }}</p>
    </div>
    <div class="rounded-2xl border border-white/10 bg-gradient-to-br from-white/5 to-white/0 p-4 shadow-xl shadow-cyan-500/10 sm:p-5">
        <p class="text-xs uppercase tracking-[0.2em] text-slate-500">Total Patients</p>
        <p class="mt-4 text-4xl font-semibold text-cyan-300" style="font-family: 'JetBrains Mono', monospace;">{{ patients_count }}</p>
    </div>
    <div class="rounded-2xl border border-white/10 bg-gradient-to-br from-white/5 to-white/0 p-4 shadow-xl shadow-amber-500/10 sm:p-5">
        <p class="text-xs uppercase tracking-[0.2em] text-slate-500">Hospital</p>
        <p class="mt-4 text-xl font-semibold text-amber-200">{{ hospital.name }}</p>
    </div>
</section>

<section class="mt-6 grid gap-6 lg:grid-cols-2 sm:mt-8">
    <div class="rounded-2xl border border-white/10 bg-white/5 p-4 shadow-xl sm:p-6">
        <div class="flex items-center gap-3">
            <span class="h-2 w-2 rounded-full bg-emerald-400"></span>
            <h2 class="text-base font-semibold text-white" style="font-family: 'Sora', sans-serif;">Team Management</h2>
        </div>
        <div class="mt-5 space-y-3 text-sm">
            <a href="{% url 'accounts:create_doctor' %}" class="group flex items-center justify-between rounded-xl border border-emerald-500/20 bg-emerald-500/10 px-4 py-3 text-emerald-100 transition hover:border-emerald-400/40 hover:bg-emerald-500/20">
                <span>Create New Doctor</span>
                <span class="text-emerald-300 transition group-hover:translate-x-1">-&gt;</span>
            </a>
            <a href="{% url 'accounts:manage_doctors' %}" class="group flex items-center justify-between rounded-xl border border-cyan-500/20 bg-cyan-500/10 px-4 py-3 text-cyan-100 transition hover:border-cyan-400/40 hover:bg-cyan-500/20">
                <span>Manage Doctors</span>
                <span class="text-cyan-300 transition group-hover:translate-x-1">-&gt;</span>
            </a>
            <a href="{% url 'accounts:create_patient' %}" class="group flex items-center justify-between rounded-xl border border-amber-500/20 bg-amber-500/10 px-4 py-3 text-amber-100 transition hover:border-amber-400/40 hover:bg-amber-500/20">
                <span>Create New Patient</span>
                <span class="text-amber-300 transition group-hover:translate-x-1">-&gt;</span>
            </a>
            <a href="{% url 'accounts:manage_patients' %}" class="group flex items-center justify-between rounded-xl border border-violet-500/20 bg-violet-500/10 px-4 py-3 text-violet-100 transition hover:border-violet-400/40 hover:bg-violet-500/20">
                <span>Manage Patients</span>
                <span class="text-violet-300 transition group-hover:translate-x-1">-&gt;</span>
            </a>
        </div>
    </div>

    <div class="rounded-2xl border border-white/10 bg-white/5 p-4 shadow-xl sm:p-6">
        <div class="flex items-center gap-3">
            <span class="h-2 w-2 rounded-full bg-emerald-400"></span>
            <h2 class="text-base font-semibold text-white" style="font-family: 'Sora', sans-serif;">Appointment Flow</h2>
        </div>
        <div class="mt-5 space-y-3 text-sm">
            <a href="{% url 'accounts:book_appointment' %}" class="group flex items-center justify-between rounded-xl border border-emerald-500/20 bg-emerald-500/10 px-4 py-3 text-emerald-100 transition hover:border-emerald-400/40 hover:bg-emerald-500/20">
                <span>Book Appointment</span>
                <span class="text-emerald-300 transition group-hover:translate-x-1">-&gt;</span>
            </a>
            <a href="{% url 'accounts:manage_appointments' %}" class="group flex items-center justify-between rounded-xl border border-cyan-500/20 bg-cyan-500/10 px-4 py-3 text-cyan-100 transition hover:border-cyan-400/40 hover:bg-cyan-500/20">
                <span>Manage Appointments</span>
                <span class="text-cyan-300 transition group-hover:translate-x-1">-&gt;</span>
            </a>
        </div>
    </div>
</section>

<section class="mt-6 grid gap-6 lg:grid-cols-2 sm:mt-8">
    <div class="rounded-2xl border border-white/10 bg-white/5 p-4 shadow-xl sm:p-6">
        <div class="flex items-center gap-3">
            <span class="h-2 w-2 rounded-full bg-emerald-400"></span>
            <h2 class="text-base font-semibold text-white" style="font-family: 'Sora', sans-serif;">Recent Doctors</h2>
        </div>
        <div class="mt-5 space-y-3 text-sm">
            {% for doctor in doctors|slice:":5" %}
                <div class="flex items-center justify-between rounded-xl border border-white/5 bg-white/5 px-4 py-3">
                    <div>
                        <p class="font-medium text-white">Dr. {{ doctor.first_name }} {{ doctor.last_name }}</p>
                        <p class="text-xs text-slate-500">{{ doctor.doctor_profile.specialization|default:"General" }}</p>
                    </div>
                    <span class="text-xs text-slate-500" style="font-family: 'JetBrains Mono', monospace;">{{ doctor.created_at|date:"M d" }}</span>
                </div>
            {% empty %}
                <p class="text-sm text-slate-500">No doctors found.</p>
            {% endfor %}
        </div>
    </div>

    <div class="rounded-2xl border border-white/10 bg-white/5 p-4 shadow-xl sm:p-6">
        <div class="flex items-center gap-3">
            <span class="h-2 w-2 rounded-full bg-emerald-400"></span>
            <h2 class="text-base font-semibold text-white" style="font-family: 'Sora', sans-serif;">Recent Patients</h2>
        </div>
        <div class="mt-5 space-y-3 text-sm">
            {% for patient in patients|slice:":5" %}
                <div class="flex items-center justify-between rounded-xl border border-white/5 bg-white/5 px-4 py-3">
                    <div>
                        <p class="font-medium text-white">{{ patient.first_name }} {{ patient.last_name }}</p>
                        <p class="text-xs text-slate-500">{{ patient.phone|default:"No phone" }}</p>
                    </div>
                    <span class="text-xs text-slate-500" style="font-family: 'JetBrains Mono', monospace;">{{ patient.created_at|date:"M d" }}</span>
                </div>
            {% empty %}
                <p class="text-sm text-slate-500">No patients found.</p>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock %}
